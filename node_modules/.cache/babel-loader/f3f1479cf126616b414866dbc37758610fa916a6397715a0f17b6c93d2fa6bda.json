{"ast":null,"code":"var _jsxFileName = \"/Users/mironuxa/Documents/GitHub/opportunity-cup-frontend/src/pages/Leaders.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport Pedestal from '../components/Leaders/Pedestal';\nimport '../assets/scss/pages/_leaders.scss';\nimport LeadersTableItem from '../components/Leaders/LeadersTableItem';\nimport { rustApi } from '../store';\nimport Pagination from '../components/Pagination/Pagination';\nimport Table from '../components/UI/Table';\nimport { header, perPage } from '../consts/leaders';\nimport Loader from '../components/Loader';\nimport SelectServerModalInLeaders from '../components/Modals/SelectServerModal';\nimport { useLang } from '../hooks/useLang';\nimport { NoRecords, leadersPageSelectAServer, leadersPageTitle } from '../consts/leadersAndBanlist';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Leaders = () => {\n  _s();\n  const [activeModal, setActiveModal] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [id, setId] = useState(localStorage.getItem('activeServer') != null ? Number(localStorage.getItem('activeServer')) : undefined);\n  useEffect(() => {\n    localStorage.setItem('activeServer', JSON.stringify(id));\n    setCurrentPage(1);\n  }, [id]);\n  const {\n    data,\n    isLoading\n  } = rustApi.useGetLeadersQuery({\n    page: currentPage,\n    count: perPage,\n    id\n  }, {\n    skip: !id\n  });\n  const {\n    data: top,\n    isLoading: isLoadingTop\n  } = rustApi.useGetLeadersTopQuery(id, {\n    skip: !id\n  });\n  const tableRef = useRef();\n  useEffect(() => {\n    var _tableRef$current;\n    tableRef === null || tableRef === void 0 ? void 0 : (_tableRef$current = tableRef.current) === null || _tableRef$current === void 0 ? void 0 : _tableRef$current.scrollTo({\n      left: 0,\n      behavior: 'smooth'\n    });\n  }, [currentPage]);\n  if (!id) return /*#__PURE__*/_jsxDEV(SelectServerModalInLeaders, {\n    activeServer: id,\n    setActiveServer: setId,\n    setIsActive: setActiveModal,\n    onLeadersPage: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 7\n  }, this);\n  if (isLoading || isLoadingTop) return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 41\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container containerCustomPage\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"titlePage\",\n      children: useLang(leadersPageTitle)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), top && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"containerPedestal\",\n      children: /*#__PURE__*/_jsxDEV(Pedestal, {\n        data: top\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"boxButtonLeaders\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn blackBtn\",\n        style: {\n          width: 200,\n          height: 50,\n          margin: '20px auto'\n        },\n        onClick: () => setActiveModal(true),\n        children: useLang(leadersPageSelectAServer)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), activeModal && /*#__PURE__*/_jsxDEV(SelectServerModalInLeaders, {\n      activeServer: id,\n      setActiveServer: setId,\n      setIsActive: setActiveModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this), !data || data.leaderboard.length === 0 && /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"noRecords\",\n      children: useLang(NoRecords)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 51\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tableWrap\",\n      ref: tableRef,\n      children: !(!data || data.leaderboard.length === 0) && /*#__PURE__*/_jsxDEV(Table, {\n        className: \"tableForLeaders\",\n        header: header,\n        data: data.leaderboard,\n        ItemComponent: LeadersTableItem,\n        isLeaders: true,\n        infoOfLeaders: data.userData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), !(!data || data.leaderboard.length === 0) && /*#__PURE__*/_jsxDEV(Pagination, {\n      currentPage: currentPage,\n      setCurrentPage: setCurrentPage,\n      pagesAmount: data.pages,\n      perPage: perPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(Leaders, \"Hb7cFVte8Yhf4xkONjxCcNV2lDk=\", false, function () {\n  return [rustApi.useGetLeadersQuery, rustApi.useGetLeadersTopQuery, useLang, useLang, useLang];\n});\n_c = Leaders;\nexport default Leaders;\nvar _c;\n$RefreshReg$(_c, \"Leaders\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Pedestal","LeadersTableItem","rustApi","Pagination","Table","header","perPage","Loader","SelectServerModalInLeaders","useLang","NoRecords","leadersPageSelectAServer","leadersPageTitle","jsxDEV","_jsxDEV","Leaders","_s","activeModal","setActiveModal","currentPage","setCurrentPage","id","setId","localStorage","getItem","Number","undefined","setItem","JSON","stringify","data","isLoading","useGetLeadersQuery","page","count","skip","top","isLoadingTop","useGetLeadersTopQuery","tableRef","_tableRef$current","current","scrollTo","left","behavior","activeServer","setActiveServer","setIsActive","onLeadersPage","fileName","_jsxFileName","lineNumber","columnNumber","className","children","style","width","height","margin","onClick","leaderboard","length","ref","ItemComponent","isLeaders","infoOfLeaders","userData","pagesAmount","pages","_c","$RefreshReg$"],"sources":["/Users/mironuxa/Documents/GitHub/opportunity-cup-frontend/src/pages/Leaders.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport Pedestal from '../components/Leaders/Pedestal';\nimport '../assets/scss/pages/_leaders.scss';\nimport LeadersTableItem from '../components/Leaders/LeadersTableItem';\nimport { rustApi } from '../store';\nimport Pagination from '../components/Pagination/Pagination';\nimport Table from '../components/UI/Table';\nimport { header, perPage } from '../consts/leaders';\nimport Loader from '../components/Loader';\nimport SelectServerModalInLeaders from '../components/Modals/SelectServerModal';\nimport { useLang } from '../hooks/useLang';\nimport { NoRecords, leadersPageSelectAServer, leadersPageTitle } from '../consts/leadersAndBanlist';\n\nconst Leaders = () => {\n  const [activeModal, setActiveModal] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [id, setId] = useState<number | any>(\n    localStorage.getItem('activeServer') != null ? Number(localStorage.getItem('activeServer')) : undefined,\n  );\n\n  useEffect(() => {\n    localStorage.setItem('activeServer', JSON.stringify(id));\n    setCurrentPage(1);\n  }, [id]);\n\n  const { data, isLoading } = rustApi.useGetLeadersQuery({ page: currentPage, count: perPage, id }, { skip: !id });\n  const { data: top, isLoading: isLoadingTop } = rustApi.useGetLeadersTopQuery(id, { skip: !id });\n\n  const tableRef = useRef<any | null | React.LegacyRef<HTMLDivElement>>();\n\n  useEffect(() => {\n    tableRef?.current?.scrollTo({ left: 0, behavior: 'smooth' });\n  }, [currentPage]);\n\n  if (!id)\n    return (\n      <SelectServerModalInLeaders\n        activeServer={id}\n        setActiveServer={setId}\n        setIsActive={setActiveModal}\n        onLeadersPage\n      />\n    );\n\n  if (isLoading || isLoadingTop) return <Loader />;\n\n  return (\n    <div className=\"container containerCustomPage\">\n      <h1 className=\"titlePage\">{useLang(leadersPageTitle)}</h1>\n      {top && (\n        <div className=\"containerPedestal\">\n          <Pedestal data={top} />\n        </div>\n      )}\n      <div className=\"boxButtonLeaders\">\n        <button\n          className=\"btn blackBtn\"\n          style={{ width: 200, height: 50, margin: '20px auto' }}\n          onClick={() => setActiveModal(true)}\n        >\n          {useLang(leadersPageSelectAServer)}\n        </button>\n      </div>\n\n      {activeModal && (\n        <SelectServerModalInLeaders activeServer={id} setActiveServer={setId} setIsActive={setActiveModal} />\n      )}\n\n      {!data || (data.leaderboard.length === 0 && <h1 className=\"noRecords\">{useLang(NoRecords)}</h1>)}\n      <div className=\"tableWrap\" ref={tableRef}>\n        {!(!data || data.leaderboard.length === 0) && (\n          <Table\n            className=\"tableForLeaders\"\n            header={header}\n            data={data.leaderboard}\n            ItemComponent={LeadersTableItem}\n            isLeaders\n            infoOfLeaders={data.userData}\n          />\n        )}\n      </div>\n      {!(!data || data.leaderboard.length === 0) && (\n        <Pagination\n          currentPage={currentPage}\n          setCurrentPage={setCurrentPage}\n          pagesAmount={data.pages}\n          perPage={perPage}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Leaders;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}