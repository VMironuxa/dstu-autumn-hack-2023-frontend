{"ast":null,"code":"var _jsxFileName = \"/Users/mironuxa/Documents/GitHub/magicow-shop-front/src/components/CustomPage/ListSections.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { useWindowSize } from '../../hooks/useWindowSize';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ListSections = _ref => {\n  _s();\n  let {\n    array,\n    activeValue,\n    setActiveValue,\n    setIsScroll,\n    isScroll,\n    scrollValue\n  } = _ref;\n  const dimensions = useWindowSize();\n  const returnValue = () => {\n    return isScroll ? activeValue : scrollValue;\n  };\n  function scrollToElm(container, elm, duration) {\n    var pos = getRelativePos(elm);\n    //@ts-ignore\n    scrollTo(container, pos === null || pos === void 0 ? void 0 : pos.top, 2); // duration in seconds\n  }\n\n  function getRelativePos(elm) {\n    var pPos = elm.parentNode.getBoundingClientRect(),\n      // parent pos\n      cPos = elm.getBoundingClientRect(),\n      // target pos\n      pos = {};\n\n    //@ts-ignore\n    pos.top = cPos.top - pPos.top + elm.parentNode.scrollTop,\n    //@ts-ignore\n    pos.right = cPos.right - pPos.right,\n    //@ts-ignore\n    pos.bottom = cPos.bottom - pPos.bottom,\n    //@ts-ignore\n    pos.left = cPos.left - pPos.left;\n    return pos;\n  }\n  function scrollTo(element, to, duration, onDone) {\n    var start = element.scrollTop,\n      change = to - start,\n      startTime = performance.now(),\n      val,\n      now,\n      elapsed,\n      t;\n    function animateScroll() {\n      now = performance.now();\n      elapsed = (now - startTime) / 1000;\n      t = elapsed / duration;\n      element.scrollTop = start + change * easeInOutQuad(t);\n      if (t < 1) window.requestAnimationFrame(animateScroll);else onDone && onDone();\n    }\n    animateScroll();\n  }\n  function easeInOutQuad(t) {\n    return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n  }\n  useEffect(() => {\n    const navLi = document.getElementsByTagName('a');\n    var myElement = document.getElementsByClassName('boxListSections');\n    console.log('lll');\n    if (navLi != null) {\n      let array = Array.from(navLi);\n      array.map((li, index) => {\n        if (index + 1 === returnValue()) {\n          if (dimensions.width <= 800) {\n            const leftOfScroll = li.offsetLeft;\n            if (myElement != null) {\n              // myElement[0].scrollLeft = leftOfScroll;\n            }\n          } else {\n            const topOfScroll = li.offsetTop;\n            if (myElement != null) {\n              // myElement[0].scrollTop = topOfScroll;\n            }\n          }\n        }\n      });\n    }\n  }, [scrollValue]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"boxListSections\",\n    children: array.map(item => /*#__PURE__*/_jsxDEV(\"a\", {\n      className: `sectionListSection ${returnValue() == item.id ? 'sectionListSectionActive' : ''}`,\n      href: `#${item.id}`,\n      onClick: event => {\n        console.log('вы клацнули');\n        // event.preventDefault();\n        // const sections = document.getElementsByClassName('sectionCustomPage');\n        // if (sections != null) {\n        //   let array = Array.from(sections);\n        //   array.map((section, index) => {\n        //     if (index + 1 === item.id) {\n        //       console.log('заходит сюла');\n        //       console.log('section', section);\n        //       section.scrollIntoView({ behavior: 'smooth' });\n        //     }\n        //     // //@ts-ignore\n        //     // const sectionTop = section.offsetTop;\n        //     // const sectionHeight = section.clientHeight;\n\n        //     // if (window.pageYOffset >= sectionTop - sectionHeight / 3) {\n        //     //   //@ts-ignore\n        //     //   current = section.getAttribute('id');\n        //     // }\n        //   });\n        // }\n        // if (base!=null){\n        //   base[0].scrollIntoView()\n        // }\n\n        setIsScroll(true);\n        setActiveValue(item.id);\n      },\n      children: item.title\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n};\n_s(ListSections, \"B6O+edsJS9HbjZWstGJpImPvJZo=\", false, function () {\n  return [useWindowSize];\n});\n_c = ListSections;\nexport default ListSections;\nvar _c;\n$RefreshReg$(_c, \"ListSections\");","map":{"version":3,"names":["React","useEffect","useWindowSize","jsxDEV","_jsxDEV","ListSections","_ref","_s","array","activeValue","setActiveValue","setIsScroll","isScroll","scrollValue","dimensions","returnValue","scrollToElm","container","elm","duration","pos","getRelativePos","scrollTo","top","pPos","parentNode","getBoundingClientRect","cPos","scrollTop","right","bottom","left","element","to","onDone","start","change","startTime","performance","now","val","elapsed","t","animateScroll","easeInOutQuad","window","requestAnimationFrame","navLi","document","getElementsByTagName","myElement","getElementsByClassName","console","log","Array","from","map","li","index","width","leftOfScroll","offsetLeft","topOfScroll","offsetTop","className","children","item","id","href","onClick","event","title","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/mironuxa/Documents/GitHub/magicow-shop-front/src/components/CustomPage/ListSections.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { customPageItem } from '../../types/customPageTypes';\nimport { useWindowSize } from '../../hooks/useWindowSize';\n\ninterface ListSectionsProps {\n  array: customPageItem[];\n  activeValue: number;\n  setActiveValue: (value: number) => void;\n  setIsScroll: (value: boolean) => void;\n  scrollValue: number;\n  isScroll: boolean;\n}\n\nconst ListSections = ({\n  array,\n  activeValue,\n  setActiveValue,\n  setIsScroll,\n  isScroll,\n  scrollValue,\n}: ListSectionsProps) => {\n  const dimensions = useWindowSize();\n  const returnValue = () => {\n    return isScroll ? activeValue : scrollValue;\n  };\n\n  function scrollToElm(container: any, elm: any, duration: any) {\n    var pos = getRelativePos(elm);\n    //@ts-ignore\n    scrollTo(container, pos?.top, 2); // duration in seconds\n  }\n\n  function getRelativePos(elm: any) {\n    var pPos = elm.parentNode.getBoundingClientRect(), // parent pos\n      cPos = elm.getBoundingClientRect(), // target pos\n      pos = {};\n\n    //@ts-ignore\n    (pos.top = cPos.top - pPos.top + elm.parentNode.scrollTop),\n      //@ts-ignore\n      (pos.right = cPos.right - pPos.right),\n      //@ts-ignore\n      (pos.bottom = cPos.bottom - pPos.bottom),\n      //@ts-ignore\n      (pos.left = cPos.left - pPos.left);\n\n    return pos;\n  }\n\n  function scrollTo(element: any, to: any, duration: any, onDone?: any) {\n    var start = element.scrollTop,\n      change = to - start,\n      startTime = performance.now(),\n      val,\n      now,\n      elapsed,\n      t;\n\n    function animateScroll() {\n      now = performance.now();\n      elapsed = (now - startTime) / 1000;\n      t = elapsed / duration;\n\n      element.scrollTop = start + change * easeInOutQuad(t);\n\n      if (t < 1) window.requestAnimationFrame(animateScroll);\n      else onDone && onDone();\n    }\n\n    animateScroll();\n  }\n\n  function easeInOutQuad(t: any) {\n    return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n  }\n\n  useEffect(() => {\n    const navLi = document.getElementsByTagName('a');\n    var myElement = document.getElementsByClassName('boxListSections');\n    console.log('lll');\n    if (navLi != null) {\n      let array = Array.from(navLi);\n      array.map((li: any, index: any) => {\n        if (index + 1 === returnValue()) {\n          if (dimensions.width <= 800) {\n            const leftOfScroll = li.offsetLeft;\n            if (myElement != null) {\n              // myElement[0].scrollLeft = leftOfScroll;\n            }\n          } else {\n            const topOfScroll = li.offsetTop;\n            if (myElement != null) {\n              // myElement[0].scrollTop = topOfScroll;\n            }\n          }\n        }\n      });\n    }\n  }, [scrollValue]);\n\n  return (\n    <div className=\"boxListSections\">\n      {array.map(item => (\n        <a\n          key={item.id}\n          className={`sectionListSection ${returnValue() == item.id ? 'sectionListSectionActive' : ''}`}\n          href={`#${item.id}`}\n          onClick={event => {\n            console.log('вы клацнули');\n            // event.preventDefault();\n            // const sections = document.getElementsByClassName('sectionCustomPage');\n            // if (sections != null) {\n            //   let array = Array.from(sections);\n            //   array.map((section, index) => {\n            //     if (index + 1 === item.id) {\n            //       console.log('заходит сюла');\n            //       console.log('section', section);\n            //       section.scrollIntoView({ behavior: 'smooth' });\n            //     }\n            //     // //@ts-ignore\n            //     // const sectionTop = section.offsetTop;\n            //     // const sectionHeight = section.clientHeight;\n\n            //     // if (window.pageYOffset >= sectionTop - sectionHeight / 3) {\n            //     //   //@ts-ignore\n            //     //   current = section.getAttribute('id');\n            //     // }\n            //   });\n            // }\n            // if (base!=null){\n            //   base[0].scrollIntoView()\n            // }\n\n            setIsScroll(true);\n            setActiveValue(item.id);\n          }}\n        >\n          {item.title}\n        </a>\n      ))}\n    </div>\n  );\n};\n\nexport default ListSections;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}