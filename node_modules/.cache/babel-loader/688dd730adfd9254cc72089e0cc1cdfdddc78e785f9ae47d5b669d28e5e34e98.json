{"ast":null,"code":"var _jsxFileName = \"/Users/mironuxa/Documents/GitHub/opportunity-cup-frontend/src/components/Modals/TopUp/TopUpModal.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport \"../../../assets/scss/components/modals/_top-up-modal.scss\";\nimport ruble from \"../../../assets/img/Ruble.svg\";\nimport { useBodyScrollModal } from \"../../../hooks/useBodyScrollModal\";\nimport Input from \"../../UI/Input\";\nimport svg from \"../../../assets/img/SBP.svg\";\nimport { userApi } from \"../../../store\";\nimport Modal from \"../../UI/Modal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst item = [{\n  count: 50,\n  procent: 15\n}, {\n  count: 150,\n  procent: 15\n}, {\n  count: 500,\n  procent: 15\n}, {\n  count: 750,\n  procent: 15\n}];\nconst data = [{\n  img: svg,\n  topTitle: \"Gamemoney\",\n  bottomTitle: \"Банковская карта\",\n  percentages: 12\n}, {\n  img: svg,\n  topTitle: \"Gamemoney\",\n  bottomTitle: \"Банковская карта\",\n  percentages: 18\n}, {\n  img: svg,\n  topTitle: \"Gamemoney\",\n  bottomTitle: \"Банковская карта\",\n  percentages: 15\n}, {\n  img: svg,\n  topTitle: \"Gamemoney\",\n  bottomTitle: \"Банковская карта\",\n  percentages: 16\n}, {\n  img: svg,\n  topTitle: \"Gamemoney\",\n  bottomTitle: \"Банковская карта\",\n  percentages: 8\n}];\nconst selectItems = [\"Все\", \"Деньги\", \"Скины\", \"Крипта\"];\nconst TopUpModal = _ref => {\n  _s();\n  let {\n    setIsActive,\n    isTopUp = true\n  } = _ref;\n  // const [refillFunc] = userApi.useRefillMutation();\n  const [addBalance] = userApi.useAddBalanceMutation();\n  const [decreaseBalance] = userApi.useDecreaseBalanceMutation();\n  const [activeSelect, setActiveSelect] = useState(0);\n  const [amountInput, setAmountInput] = useState(\"\");\n  useBodyScrollModal();\n  const [id, setId] = useState(localStorage.getItem(\"activeServer\") != null ? Number(localStorage.getItem(\"activeServer\")) : null);\n  useEffect(() => {\n    localStorage.setItem(\"activeServer\", JSON.stringify(id));\n  }, [id]);\n  const handlerButton = async () => {\n    if (amountInput && +amountInput > 0) {\n      if (isTopUp) {\n        await addBalance({\n          sum: +amountInput\n        });\n      } else {\n        await decreaseBalance({\n          sum: +amountInput\n        });\n      }\n      setIsActive(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    headerTitle: isTopUp ? \"Пополнение средств\" : \"Вывод средств\",\n    setIsActive: setIsActive,\n    isSelect: true,\n    modalHeaderBottom: 20,\n    className: \"topUp\",\n    isTopUp: true,\n    children: /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"canBeTranslatedInputItem inputBlock\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"mb12\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            svgIcon: ruble,\n            isNumber: true,\n            value: amountInput,\n            setValue: setAmountInput,\n            placeholder: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handlerButton,\n          className: \"btn lightBtn wideBtn\",\n          children: isTopUp ? \"Пополнить\" : \"Вывести\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)\n    }, void 0, false)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n};\n_s(TopUpModal, \"HCw3PhIm2E/y2GkJhHpRQwj9DFs=\", false, function () {\n  return [userApi.useAddBalanceMutation, userApi.useDecreaseBalanceMutation, useBodyScrollModal];\n});\n_c = TopUpModal;\nexport default TopUpModal;\nvar _c;\n$RefreshReg$(_c, \"TopUpModal\");","map":{"version":3,"names":["React","useState","useEffect","ruble","useBodyScrollModal","Input","svg","userApi","Modal","jsxDEV","_jsxDEV","Fragment","_Fragment","item","count","procent","data","img","topTitle","bottomTitle","percentages","selectItems","TopUpModal","_ref","_s","setIsActive","isTopUp","addBalance","useAddBalanceMutation","decreaseBalance","useDecreaseBalanceMutation","activeSelect","setActiveSelect","amountInput","setAmountInput","id","setId","localStorage","getItem","Number","setItem","JSON","stringify","handlerButton","sum","headerTitle","isSelect","modalHeaderBottom","className","children","fileName","_jsxFileName","lineNumber","columnNumber","svgIcon","isNumber","value","setValue","placeholder","onClick","_c","$RefreshReg$"],"sources":["/Users/mironuxa/Documents/GitHub/opportunity-cup-frontend/src/components/Modals/TopUp/TopUpModal.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"../../../assets/scss/components/modals/_top-up-modal.scss\";\nimport ruble from \"../../../assets/img/Ruble.svg\";\nimport { useBodyScrollModal } from \"../../../hooks/useBodyScrollModal\";\nimport Input from \"../../UI/Input\";\nimport TopUpItem from \"./TopUpItem\";\nimport svg from \"../../../assets/img/SBP.svg\";\nimport ProgressBar from \"../ProgressBar\";\nimport BottomSide from \"./BottomSide\";\nimport { userApi } from \"../../../store\";\nimport Modal from \"../../UI/Modal\";\n\ninterface TopUpModalProps {\n  setIsActive: (param: boolean) => void;\n  isTopUp?: boolean;\n}\n\nconst item = [\n  {\n    count: 50,\n    procent: 15,\n  },\n  {\n    count: 150,\n    procent: 15,\n  },\n  {\n    count: 500,\n    procent: 15,\n  },\n  {\n    count: 750,\n    procent: 15,\n  },\n];\n\nconst data = [\n  {\n    img: svg,\n    topTitle: \"Gamemoney\",\n    bottomTitle: \"Банковская карта\",\n    percentages: 12,\n  },\n  {\n    img: svg,\n    topTitle: \"Gamemoney\",\n    bottomTitle: \"Банковская карта\",\n    percentages: 18,\n  },\n  {\n    img: svg,\n    topTitle: \"Gamemoney\",\n    bottomTitle: \"Банковская карта\",\n    percentages: 15,\n  },\n  {\n    img: svg,\n    topTitle: \"Gamemoney\",\n    bottomTitle: \"Банковская карта\",\n    percentages: 16,\n  },\n  {\n    img: svg,\n    topTitle: \"Gamemoney\",\n    bottomTitle: \"Банковская карта\",\n    percentages: 8,\n  },\n];\n\nconst selectItems = [\"Все\", \"Деньги\", \"Скины\", \"Крипта\"];\n\nconst TopUpModal = ({ setIsActive, isTopUp = true }: TopUpModalProps) => {\n  // const [refillFunc] = userApi.useRefillMutation();\n  const [addBalance] = userApi.useAddBalanceMutation();\n  const [decreaseBalance] = userApi.useDecreaseBalanceMutation();\n  const [activeSelect, setActiveSelect] = useState(0);\n  const [amountInput, setAmountInput] = useState(\"\");\n\n  useBodyScrollModal();\n\n  const [id, setId] = useState<number | null>(\n    localStorage.getItem(\"activeServer\") != null\n      ? Number(localStorage.getItem(\"activeServer\"))\n      : null\n  );\n\n  useEffect(() => {\n    localStorage.setItem(\"activeServer\", JSON.stringify(id));\n  }, [id]);\n\n  const handlerButton = async () => {\n    if (amountInput && +amountInput > 0) {\n      if (isTopUp) {\n        await addBalance({ sum: +amountInput });\n      } else {\n        await decreaseBalance({ sum: +amountInput });\n      }\n\n      setIsActive(false);\n    }\n  };\n\n  return (\n    <Modal\n      headerTitle={isTopUp ? \"Пополнение средств\" : \"Вывод средств\"}\n      setIsActive={setIsActive}\n      isSelect\n      modalHeaderBottom={20}\n      className=\"topUp\"\n      isTopUp\n    >\n      <>\n        {/* нужный кусок\n        <div className=\"select\">\n              {selectItems.map((el, index) => (\n                <div\n                  onClick={() => setActiveSelect(index)}\n                  className={`selectItem ${activeSelect === index ? 'selectItemActive' : ''}`}\n                  key={index}\n                >\n                  {el}\n                </div>\n              ))}\n            </div> */}\n        {/* <div className=\"payments\">\n          {[...data, ...data].map((el, index) => (\n            <TopUpItem\n              setCurrentPercentages={setCurrentPercentages}\n              activePayments={activePayments}\n              setActivePayments={setActivePayments}\n              index={index}\n              {...el}\n              key={index}\n            />\n          ))}\n        </div> */}\n        <div>\n          <div className=\"canBeTranslatedInputItem inputBlock\">\n            <h4 className=\"mb12\">{}</h4>\n            <Input\n              svgIcon={ruble}\n              isNumber\n              value={amountInput}\n              setValue={setAmountInput}\n              placeholder={\"\"}\n            />\n          </div>\n\n          <button onClick={handlerButton} className=\"btn lightBtn wideBtn\">\n            {isTopUp ? \"Пополнить\" : \"Вывести\"}\n          </button>\n        </div>\n      </>\n    </Modal>\n  );\n};\n\nexport default TopUpModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}