{"ast":null,"code":"var _jsxFileName = \"/Users/mironuxa/Documents/GitHub/opportunity-cup-frontend/src/components/Profile/Details.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useRef } from \"react\";\nimport { ReactComponent as Plus } from \"../../assets/img/Plus.svg\";\nimport \"../../assets/scss/components/profile/_details.scss\";\nimport Table from \"../UI/Table\";\nimport DetailsTableItem from \"./DetailsTableItem\";\nimport { userApi } from \"../../store\";\nimport { header, per_page } from \"../../consts/details\";\nimport Pagination from \"../Pagination/Pagination\";\nimport CustomSelect from \"../UI/CustomSelect\";\nimport Loader from \"../Loader\";\nimport { useWindowSize } from \"../../hooks/useWindowSize\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Details = () => {\n  _s();\n  const [currentPage, setCurrentPage] = useState(1);\n  const dimensions = useWindowSize();\n  const [sortValue, setSortValue] = useState(\"desc\");\n  const [isActiveModal, setIsActiveModal] = useState(false);\n  const {\n    data,\n    isLoading\n  } = userApi.useGetDetailsQuery({\n    page: currentPage,\n    count: per_page,\n    sort: sortValue\n  });\n  const {\n    data: userBalace\n  } = userApi.useGetBalanceQuery();\n  useEffect(() => {\n    setCurrentPage(1);\n  }, [sortValue]);\n  const tableRef = useRef();\n  useEffect(() => {\n    var _tableRef$current;\n    tableRef === null || tableRef === void 0 ? void 0 : (_tableRef$current = tableRef.current) === null || _tableRef$current === void 0 ? void 0 : _tableRef$current.scrollTo({\n      left: 0,\n      behavior: \"smooth\"\n    });\n  }, [currentPage]);\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 12\n    }, this);\n  }\n  if (!data || data.result.length === 0) {\n    // return <h1 className=\"noRecords\">{useLang(NoRecords)}</h1>;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"topDetails\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"balance\",\n        onClick: () => setIsActiveModal(true),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"balanceInfo\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"balanceCount\",\n            children: [userBalace === null || userBalace === void 0 ? void 0 : userBalace.balance, \" \\u20BD\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"balanceBtnBlock\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn lightBtn balanceBtn\",\n            children: /*#__PURE__*/_jsxDEV(Plus, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containerSelect\",\n        children: /*#__PURE__*/_jsxDEV(CustomSelect, {\n          options: [\n            // { value: \"desc\", label: useLang(detailsPageSelectNew) },\n            // { value: \"asc\", label: useLang(detailsPageSelectOld) },\n          ],\n          heightSelect: dimensions.width >= 1280 ? 50 : 40,\n          onChange: e => setSortValue(e.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: tableRef,\n      className: \"tableWrap\",\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        className: \"tableForDetails\",\n        header: header,\n        data: data === null || data === void 0 ? void 0 : data.result,\n        ItemComponent: DetailsTableItem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n      currentPage: currentPage,\n      setCurrentPage: setCurrentPage,\n      pagesAmount: data.pages,\n      perPage: per_page\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(Details, \"QXIzMXMyF0XovLSh6VA7tmp2NL0=\", false, function () {\n  return [useWindowSize, userApi.useGetDetailsQuery, userApi.useGetBalanceQuery];\n});\n_c = Details;\nexport default Details;\nvar _c;\n$RefreshReg$(_c, \"Details\");","map":{"version":3,"names":["useEffect","useState","useRef","ReactComponent","Plus","Table","DetailsTableItem","userApi","header","per_page","Pagination","CustomSelect","Loader","useWindowSize","jsxDEV","_jsxDEV","Details","_s","currentPage","setCurrentPage","dimensions","sortValue","setSortValue","isActiveModal","setIsActiveModal","data","isLoading","useGetDetailsQuery","page","count","sort","userBalace","useGetBalanceQuery","tableRef","_tableRef$current","current","scrollTo","left","behavior","fileName","_jsxFileName","lineNumber","columnNumber","result","length","className","children","onClick","balance","options","heightSelect","width","onChange","e","value","ref","ItemComponent","pagesAmount","pages","perPage","_c","$RefreshReg$"],"sources":["/Users/mironuxa/Documents/GitHub/opportunity-cup-frontend/src/components/Profile/Details.tsx"],"sourcesContent":["import { useEffect, useState, useRef } from \"react\";\nimport { ReactComponent as Plus } from \"../../assets/img/Plus.svg\";\nimport { ReactComponent as Settings } from \"../../assets/img/profile/settings.svg\";\nimport \"../../assets/scss/components/profile/_details.scss\";\nimport Table from \"../UI/Table\";\nimport DetailsTableItem from \"./DetailsTableItem\";\nimport { userApi } from \"../../store\";\nimport { header, per_page } from \"../../consts/details\";\nimport Pagination from \"../Pagination/Pagination\";\nimport CustomSelect from \"../UI/CustomSelect\";\nimport Loader from \"../Loader\";\nimport { useWindowSize } from \"../../hooks/useWindowSize\";\nimport { useLang } from \"../../hooks/useLang\";\nimport { NoRecords } from \"../../consts/leadersAndBanlist\";\nimport {\n  detailsPageBalance,\n  detailsPageRefill,\n  detailsPageSelectNew,\n  detailsPageSelectOld,\n} from \"../../consts/profile\";\n\nconst Details = () => {\n  const [currentPage, setCurrentPage] = useState(1);\n  const dimensions = useWindowSize();\n  const [sortValue, setSortValue] = useState(\"desc\");\n  const [isActiveModal, setIsActiveModal] = useState(false);\n  const { data, isLoading } = userApi.useGetDetailsQuery({\n    page: currentPage,\n    count: per_page,\n    sort: sortValue,\n  });\n  const { data: userBalace } = userApi.useGetBalanceQuery();\n\n  useEffect(() => {\n    setCurrentPage(1);\n  }, [sortValue]);\n\n  const tableRef = useRef<any | null | React.LegacyRef<HTMLDivElement>>();\n\n  useEffect(() => {\n    tableRef?.current?.scrollTo({ left: 0, behavior: \"smooth\" });\n  }, [currentPage]);\n\n  if (isLoading) {\n    return <Loader />;\n  }\n\n  if (!data || data.result.length === 0) {\n    // return <h1 className=\"noRecords\">{useLang(NoRecords)}</h1>;\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"topDetails\">\n        <div className=\"balance\" onClick={() => setIsActiveModal(true)}>\n          <div className=\"balanceInfo\">\n            {/* <p className=\"balanceTitle\">{useLang(detailsPageBalance)}</p> */}\n            <h3 className=\"balanceCount\">{userBalace?.balance} ₽</h3>\n          </div>\n\n          {/* {isActiveModal && <TopUpModal setIsActive={setIsActiveModal} />} */}\n\n          <div className=\"balanceBtnBlock\">\n            <button className=\"btn lightBtn balanceBtn\">\n              <Plus />\n              {/* <span>{useLang(detailsPageRefill)}</span> */}\n            </button>\n            {/* <button className=\"btn blackBtn balanceBtn\">Перевести</button> */}\n          </div>\n        </div>\n        <div className=\"containerSelect\">\n          <CustomSelect\n            options={\n              [\n                // { value: \"desc\", label: useLang(detailsPageSelectNew) },\n                // { value: \"asc\", label: useLang(detailsPageSelectOld) },\n              ]\n            }\n            heightSelect={dimensions.width >= 1280 ? 50 : 40}\n            onChange={(e) => setSortValue(e.value)}\n          />\n        </div>\n      </div>\n\n      {/* <SearchInput placeholder=\"Введите название предмета\" value={searchValue} setValue={setSearchValue} /> */}\n      <div ref={tableRef} className=\"tableWrap\">\n        <Table\n          className=\"tableForDetails\"\n          header={header}\n          data={data?.result}\n          ItemComponent={DetailsTableItem}\n        />\n      </div>\n      <Pagination\n        currentPage={currentPage}\n        setCurrentPage={setCurrentPage}\n        pagesAmount={data.pages}\n        perPage={per_page}\n      />\n    </div>\n  );\n};\n\nexport default Details;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}